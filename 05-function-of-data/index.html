<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <p></p>
  <p></p>
  <p></p>
  <p></p>

  <!-- 动态设置属性 -->
  <p>Error: This is error.</p>
  <p>Warning: This is warning.</p>
  <script src="../d3.v5.min.js"></script>
  <script>
    var data = [100, 200, 300]
    var paragrph = d3.select('body')
      .selectAll('p')
      .data(data)
      .text(function(d, i) {
        console.log('d: ' + d)
        console.log('i: ' + i)
        console.log('this: ' + this)

        return d
      })
    
    // 动态设置属性
    d3.selectAll('p').style('color', function(d, i) {
      var text = this.textContent
      if (text.indexOf('Error') >= 0) {
        return 'red'
      } else if (text.indexOf('Warning') >= 0) {
        return 'yellow'
      }
    })
  </script>
</body>
</html>